<!DOCTYPE html><html lang="id" class="__variable_3c16b5 __variable_df7ce8"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/045832894acda0e9-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/120a5a1920781bd0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/2744aa005c8cf586-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/46b92c15a48f3318-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/4ecf9da4147c3090-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/6ebb97b5c9fa4e03-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/7c7db451c1a82f61-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/7f5a4bbe7ec7be95-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c714540e49ad5111-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/da897b99eb1fe4a1-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/f5852452a44b5033-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/ccac54bc4acd500a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/796ad535a0728bbf.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f16eaa9e44b97d3f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-a691a26e7e62a609.js"/><script src="/_next/static/chunks/fd9d1056-6184565b3c21c232.js" async=""></script><script src="/_next/static/chunks/23-b5d754aaa93c5554.js" async=""></script><script src="/_next/static/chunks/main-app-8f552fd9ee19a314.js" async=""></script><script src="/_next/static/chunks/231-553e389129e81e12.js" async=""></script><script src="/_next/static/chunks/280-50bc6b1ed599f2b7.js" async=""></script><script src="/_next/static/chunks/app/blogs/%5Bslug%5D/page-19970ca1740dc46e.js" async=""></script><script src="/_next/static/chunks/app/layout-77bc29ebb9266607.js" async=""></script><title>PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database - Reza Sariful Fikri</title><meta name="description" content="dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan function atau method yang sama untuk melakukan query dan fetch data
"/><meta name="google-site-verification" content="fLcDg3KFF-m2xDnm4TGsRylXksSQTGGfLq6FqSe8cUs"/><meta property="og:title" content="PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database"/><meta property="og:description" content="dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan function atau method yang sama untuk melakukan query dan fetch data
"/><meta property="og:url" content="https://rezafikkri.github.io/blogs/pdo-php-data-objects-ekstensi-php-untuk-mengakses-database"/><meta property="og:image" content="https://res.cloudinary.com/rezafikkri/image/upload/q_auto/php-pdo.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database"/><meta name="twitter:description" content="dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan function atau method yang sama untuk melakukan query dan fetch data
"/><meta name="twitter:image" content="https://res.cloudinary.com/rezafikkri/image/upload/q_auto/php-pdo.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="h-screen bg-gray-50 font-roboto"><div class="sm:text-center py-3 px-4 bg-gray-100 text-gray-700"><span class="me-1">Free Palestine ðŸ‡µðŸ‡¸</span><a rel="noopener noreferrer" target="_blank" class="group no-underline hover:text-ajwa-blue inline-block" href="https://inh.or.id/"><span class="me-1">Kirim Hadiah Terbaik Melalui INH</span><svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" class="inline-block align-baseline stroke-gray-700 group-hover:stroke-ajwa-blue" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"></path><path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"></path></svg></a></div><div class="max-w-5xl mx-auto px-4 sm:px-8"><header class="pt-6 flex flex-col items-start sm:flex-row sm:justify-between content-center sm:items-center"><a class="no-underline mb-2 sm:mb-0" href="/"><img src="/Reza logo.svg" width="35" height="35" alt="Reza logo" loading="lazy" decoding="async"/></a><nav class="text-gray-700 font-medium"><ul><li class="inline-block pr-8"><a class="hover:text-ajwa-blue no-underline text-ajwa-blue" href="/blogs">Blog</a></li><li class="inline-block pr-8"><a class="hover:text-ajwa-blue no-underline undefined" href="/projects">Projek</a></li><li class="inline-block pr-8"><a class="hover:text-ajwa-blue no-underline undefined" href="/about">Tentang</a></li></ul></nav></header></div><div class="max-w-4xl mx-auto px-4 sm:px-8"><main><article class="mt-24"><time class="text-gray-600 inline-block">07 Agustus 2024</time><h1 class="text-5xl font-bold mt-2 text-gray-900">PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database</h1><div class="flex flex-wrap gap-1 mt-6"><a class="no-underline text-xs bg-white border border-gray-500 hover:border-ajwa-blue px-2 py-1 rounded-lg" href="/blogs/topic/PHP">PHP</a><a class="no-underline text-xs bg-white border border-gray-500 hover:border-ajwa-blue px-2 py-1 rounded-lg" href="/blogs/topic/Database">Database</a></div><div class="mt-10 prose prose-ajwa prose-xl max-w-none prose-h2:text-3xl prose-h3:text-2xl prose-a:font-normal prose-pre:text-[0.9em] prose-pre:leading-normal prose-code:font-source-code-pro prose-pre:bg-[#1a1b26] prose-pre:relative prose-pre:pt-12 prose-code:break-words" id="content"><p>Bismillah, hari ini kita akan mempelajari PDO (PHP Data Objects).</p>
<p>Tetapi, seperti biasanya sebelum lanjut, yang perlu dipersiapkan adalah, kamu harus memahami beberapa perintah dasar sql, seperti Insert, Update, dll, pada database MariaDB. Jika belum kamu bisa belajar di channel Indonesia Belajar pada playlist <a href="https://youtube.com/playlist?list=PL2O3HdJI4voGs6CiEUPXwt1fhLLqu30E_">Tutorial Belajar Database MySQL | MariaDB</a>. Mengapa database MariaDB? karena pada tutorial ini kita akan menggunakan database MariaDB. Serta sangat di sarankan juga kamu untuk belajar dasar-dasar OOP (Object Oriented Programming) dengan bahasa pemrograman PHP. kamu bisa mempelajarinya di channel Web Programming Unpas pada playlist  <a href="https://youtube.com/playlist?list=PLFIM0718LjIWvxxll-6wLXrC_16h_Bl_p">OOP DASAR pada PHP</a>.</p>
<h2>Apa Itu PDO?</h2>
<p>PDO atau PHP Data Objects merupakan suatu ekstensi yang mendefinisikan antarmuka yang ringan dan konsisten untuk mengakses database di PHP. Namun kamu tidak bisa melakukan fungsi database apapun (insert, update, dsb) jika hanya menggunakan ekstensi PDO sendiri, kamu membutuhkan yang namanya PDO Driver untuk mengakses database. Setiap database punya PDO Driver tersendiri, misalnya untuk database MariaDB menggunakan driver PDO_MYSQL.</p>
<p>PDO menyediakan sebuah <em>data-access abstraction layer</em>, yang berarti bahwa, dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan <em>function</em> atau <em>method</em> yang sama untuk melakukan query dan fetch data.</p>
<p>Sebelum menggunakan PDO, pastikan bahwa ekstensi PDO sudah aktif serta mendukung untuk koneksi ke database MariaDB, caranya buat satu file php (namanya bebas), lalu masukkan code:</p>
<pre><code class="language-php">&#x3C;?= phpinfo(); ?>
</code></pre>
<p>dan buka lewat browser. Setelah itu kamu bisa gunakan fitur pencarian yang ada di browser dengan menekan <code>ctrl+f</code>, cari dengan kata kunci <strong>pdo</strong>, pastikan kamu menemukan seperti pada gambar dibawah:
<img src="https://res.cloudinary.com/rezafikkri/image/upload/q_auto/PHP-PDO-extension.png" alt="cek ekstensi PDO" width="974" height="585" loading="lazy" decoding="async"><!--rehype:width=974&height=585&loading=lazy&decoding=async-->
Pada gambar diatas, dibagian table PDO, pada kolom <em>enabled</em>, pastikan tertera <code>mysql</code> yang berarti bahwa PDO mendukung untuk koneksi ke database MariaDB. Jika belum menemukan, kemungkinan ekstensi PDO nya belum aktif, atau mungkin juga kamu belum menginstall driver PDO_MYSQL.</p>
<p>Jika kamu menggunakan paket server seperti XAMPP, kamu tidak perlu menginstall driver PDO_MYSQL secara manual, kamu hanya perlu enable ekstensi <code>php_pdo</code> dan <code>php_pdo_mysql</code> saja, dengan cara, cari baris code <code>;extension=php_pdo.dll</code> dan <code>;extension=php_pdo_mysql.dll</code> didalam file php.ini, lalu hapus <code>;</code> pada awal dari kedua baris code tersebut, jangan lupa untuk restart server php dan databasenya. Letak dari file php.ini di XAMPP biasanya ada di <code>/xampp/php/php.ini</code>. Sedangkan untuk kamu yang menggunakan paket server Laragon, caranya sangat mudah, buka Laragon Â» klik <strong>Menu</strong> Â» pilih <strong>PHP</strong> Â» pilih <strong>Extentions</strong> Â» dan klik pada ekstensi yang ingin diaktifkan yaitu <code>pdo_mysql</code>.</p>
<p>Bagi kamu yang menggunakan os linux, terutama distro Debian dan turunannya, seperti Ubuntu, Linux Mint, dsb, serta tidak menggunakan paket server apapun seperti XAMPP atau Laragon, biasanya kamu harus menginstall secara manual driver PDO_MYSQL untuk MariaDB. Ikuti langkah berikut untuk menginstall drivernya:</p>
<ol>
<li>Update daftar package: <code>sudo apt update</code></li>
<li>Install package <code>php8.2-mysql</code>: <code>sudo apt install php8.2-mysql</code></li>
</ol>
<p>Untuk versi php silahkan disesuaikan dengan versi php yang kamu gunakan, misalnya kamu menggunakan php7.4 maka <code>... php7.4-mysql</code>. Dengan menginstall package <code>php8.2-mysql</code> maka akan menginstall driver PDO_MYSQL.</p>
<h2>Membuat Koneksi Ke Database MySQL</h2>
<p>Berikut contoh code untuk koneksi ke database dengan PDO:</p>
<pre><code class="language-php">&#x3C;?php
    $user = 'dbuser';
    $password = 'dbpass';
    $dbh = new PDO('mysql:host=localhost;dbname=test', $user, $password);
?>
</code></pre>
<p>Untuk koneksi ke database dengan PDO kamu perlu membuat instansiasi dari class PDO, serta memasukkan beberapa argumen mengenai database yang digunakan, yang dikenal dengan DSN dan username, password (opsional). Berikut penjelasan rinci dari argumen tersebut:</p>
<ol>
<li>Data Source Name (DSN)
Bagian yang disebut DSN adalah <code>mysql:host=localhost;dbname=test</code>. DSN terbagi menjadi beberapa bagian, yang umum dipakai adalah DSN prefix, host, database name. DSN prefix pada contoh diatas adalah <code>mysql:</code>, host merupakan nama host tempat basis data berada, yang mana pada contoh yaitu <code>localhost</code>, database name adalah nama database kamu, pada contoh yaitu <code>test</code>. Penjelasan lebih lanjut bisa baca di <a href="https://www.php.net/manual/en/ref.pdo-mysql.connection.php">Manual PDO Mysql Connection</a>.</li>
<li>Username
Username merupakan username untuk koneksi ke database. Pada contoh, usernamenya yaitu <code>dbuser</code>.</li>
<li>Password
Password merupakan password untuk koneksi ke database. pada contoh, passwordnya yaitu <code>dbpass</code>.</li>
</ol>
<h2>Prepared Statement</h2>
<p>Prepared statement dapat dianggap sebagai template terkompilasi untuk SQL yang ingin dijalankan oleh aplikasi, yang dapat dikustomasisasi menggunakan parameter variabel. Begitulah pengertian dari website php.net. Bingung? oke, supaya lebih paham lihat contoh berikut!</p>
<pre><code class="language-sql">INSERT INTO users(username, password) VALUES(:username, :password)
</code></pre>
<p>Dan contoh detailnya adalah:</p>
<pre><code class="language-php">&#x3C;?php
    $username = 'rezauser';
    $password = 'rezapass';

    $stmt = $dbh->prepare("INSERT INTO users(username, password) VALUES(:username, :password)");
    $stmt->bindParam(':username', $username);
    $stmt->bindParam(':password', $password);

    $stmt->execute();
?>
</code></pre>
<p>Pada kode diatas kita menggunakan prepared statement dengan <em>named placeholders</em>, yaitu dengan penggunaan placeholders <code>:username</code> dan <code>:password</code> pada fungsi <code>prepare()</code>. Fungsi <code>prepare()</code> berfungsi untuk menyiapkan sebuah SQL statement untuk di jalankan dan menghasilkan sebuah statement object.</p>
<p>Disana juga ada fungsi <code>bindParam()</code>, yang berfungsi untuk mengikat PHP variabel ke pada placeholders yang sesuai.
Argumen pertama yang dimasukkan pada fungsi <code>bindParam()</code>, adalah <em>parameter identifier</em>, yang mana itu berisi nama placeholders yang digunakan pada fungsi <code>prepare()</code>. Argumen keduanya adalah nama variabel.</p>
<p>Dan terakhir adalah fungsi <code>execute()</code> berfungsi untuk menjalankan prepared statement. Nantinya placeholders akan diganti dengan value dari variabel <code>$username</code> dan <code>$password</code>. Salah satu keuntungan menggunakan prepared statement ini adalah akan mencegah terjadinya serangan berbahaya seperti Injeksi SQL atau SQl Injection.</p>
<p>Selain dengan <em>named placeholders</em>, kamu juga bisa menggunakan <em>positional placeholders</em> atau bisa juga disebut <em>question mark placeholders</em>, seperti:</p>
<pre><code class="language-php">&#x3C;?php
    $username = 'rezauser';
    $password = 'rezapass';

    $stmt = $dbh->prepare("INSERT INTO users(username, password) VALUES(?, ?)");
    $stmt->bindParam(1, $username);
    $stmt->bindParam(2, $password);

    $stmt->execute();
?>
</code></pre>
<p>Perbedaanya dengan <em>named placeholders</em> adalah pada <em>positional placeholders</em> kita menggunakan tanda tanya (?) dan pada fungsi <code>bindParam()</code>, di argumen pertama kita menggunakan nomor index yang dimulai dari 1.</p>
<p>Jika tipe data dari value yang ingin kita masukkan kedalam database itu bertipe string semua, kita bisa tidak menggunakan fungsi <code>bindParam()</code>, yaitu dengan cara memasukkan langsung variabel sebagai array pada saat memanggil fungsi <code>execute()</code>, jadi seperti:</p>
<pre><code class="language-php">&#x3C;?php
    $username = 'rezauser';
    $password = 'rezapass';

    $stmt = $dbh->prepare("INSERT INTO users(username, password) VALUES(:username, :password)");
    //$stmt->bindParam(':username', $username);
    //$stmt->bindParam(':password', $password);

    $stmt->execute([':username' => $username, ':password' => $password]);
?>
</code></pre>
<p>Bagaimana dengan <em>positional placeholders</em>? jika menggunakan <em>named placeholders</em> maka harus menggunakan array asosiatif, sedangkan jika menggunakan <em>positional placeholders</em> maka menggunakan <em>indexed array</em>, seperti:</p>
<pre><code class="language-php">&#x3C;?php
    $username = 'rezauser';
    $password = 'rezapass';

    $stmt = $dbh->prepare("INSERT INTO users(username, password) VALUES(?, ?)");
    $stmt->execute([$username, $password]);
?>
</code></pre>
<blockquote>
<p>Perbedaan <em>indexed array</em> dan array asosiatif adalah tipe <em>key</em> yang digunakan, <em>indexed array</em> menggunakan <em>key</em> bertipe integer, sedangkan array asosiatif menggunakan <em>key</em> bertipe string</p>
</blockquote>
<p>Kapan kita harus menggunakan fungsi <code>bindParam()</code>? kita butuh menggunakan fungsi <code>bindparam()</code> ketika value yang harus dimasukkan itu bukan bertipe string, contohnya ketika kita butuh perintah SQl yang menggunakan perintah <code>limit</code>, mengapa? karena data yang dimasukkan harus bertipe integer, tidak bisa string, maka kita perlu menggunakan fungsi <code>bindParam()</code>. Pada fungsi <code>bindParam()</code> selain dua argument yang sebelumnya, yaitu, pertama string dari <em>named placeholders</em> atau nomor index dari <em>positional placeholders</em>, yang kedua adalah nama variabel-nya, dan yang ke tiga yaitu eksplisit tipe data untuk value yang akan kita masukkan, caranya adalah dengan menggunakan <code>PDO::PARAM_*constants</code>, seperti:</p>
<pre><code class="language-php">&#x3C;?php
    $skip = 0;
    $max = 50;

    $stmt = $dbh->prepare("SELECT * FROM users LIMIT :skip, :max");
    $stmt->bindParam(':skip', $skip, PDO::PARAM_INT);
    $stmt->bindParam(':max', $max, PDO::PARAM_INT);

    $stmt->execute();

    $users = $stmt->fetchAll(PDO::FETCH_ASSOC);
?>
</code></pre>
<p>Pada code diatas, fungsi <code>fetchAll()</code> berfungsi untuk mengambil semua data hasil dari perintah <code>SELECT</code> dan <code>PDO::FETCH_ASSOC</code> digunakan agar data tersebut berbentuk array asosiatif. Untuk daftar rinci dari PDO Constants kamu bisa lihat di <a href="https://www.php.net/manual/en/pdo.constants.php">Manual PDO Constants</a>. Selain fungsi <code>fetchAll()</code> juga ada fungsi <code>fetch()</code>, yang berfungsi untuk mengambil satu data dari hasil perintah <code>SELECT</code>. Ketika kita memanggil fungsi <code>fetch()</code> untuk kedua kalinya, maka akan mengambil satu data berikutnya dan begitu seterusnya. Lebih rinci mengenai fungsi <code>fetch()</code> kamu bisa baca di <a href="https://www.php.net/manual/en/pdostatement.fetch.php">PDO fetch</a>.</p>
<p>Selain menggunakan fungsi <code>prepare()</code>, kamu juga bisa menggunakan fungsi <code>query()</code> atau <code>exec()</code>, seperti:</p>
<pre><code class="language-php">&#x3C;?php
    $sql = 'SELECT * FROM users';
    foreach($dbh->query($sql) as $row) {
        echo $row['username'].'&#x3C;br>';
    }
?>
</code></pre>
<pre><code class="language-php">&#x3C;?php
    $count = $dbh->exec('DELETE FROM users');
    echo $count . 'baris telah dihapus';
?>
</code></pre>
<blockquote>
<p>Praktik terbaik dalam penggunaan <code>prepare()</code> adalah ketika perintah SQL tersebut membutuhkan data dari luar, seperti dari input user. Biasanya kita membutuhkan data dari luar ketika kita ingin memasukkan data ke database, ataupun ketika ingin menghapus suatu data berdasarkan id tertentu dan lain-lain.</p>
</blockquote>
<blockquote>
<p>Sedangkan <code>query()</code> digunakan ketika perintah SQL tersebut tidak membutuhkan data dari luar, misalnya perintah untuk menampilkan semua user seperti di atas. Adapun <code>exec()</code> hampir sama seperti <code>query()</code>, tetapi fungsi <code>exec()</code> tidak mengembalikan data hasil dari perintah <code>SELECT</code>, tetapi mengembalikan jumlah baris yang terkena dampak dari perintah SQL, sehingga lebih cocok untuk perintah seperti <code>DELETE</code>, <code>UPDATE</code> dan <code>CREATE</code>.</p>
</blockquote>
<p>Sebagai tambahan, berikut adalah contoh code CRUD (Create Read Update Delete) dengan PDO dan Prepared Statement:</p>
<ul>
<li>Create : memasukkan data ke dalam database</li>
</ul>
<pre><code class="language-php">&#x3C;?php
    $username = 'rezauser';
    $password = 'rezapass';

    $stmt = $dbh->prepare("INSERT INTO users(username, password) VALUES(:username, :password)");
    $stmt->execute([':username' => $username, ':password' => $password]);
?>
</code></pre>
<ul>
<li>Read : mengambil data dari database</li>
</ul>
<pre><code class="language-php">&#x3C;?php
    $stmt = $dbh->prepare("SELECT * FROM users WHERE username != :username");
    $stmt->execute([':username' => 'reza']);

    foreach($stmt as $u) {
        echo $u['username'].'&#x3C;br>';
    }
?>
</code></pre>
<ul>
<li>Update : mengubah data di database</li>
</ul>
<pre><code class="language-php">&#x3C;?php
    $username = 'rezauser';
    $password = 'rezapass';
    $id = '123';

    $stmt = $dbh->prepare("UPDATE users SET username = :username, password = :password WHERE id = :id");
    $stmt->execute([':username' => $username, ':password' => $password, ':id' => $id]);
?>
</code></pre>
<ul>
<li>Delete : menghapus data dari database</li>
</ul>
<pre><code class="language-php">&#x3C;?php
    $id = '123';
    $stmt = $dbh->prepare("DELETE FROM users WHERE id = :id");
    $stmt->execute([':id' => $id]);
?>
</code></pre>
<h2>Penanganan Error Koneksi</h2>
<p>Pada bagian terakhir ini kita akan sedikit membahas mengenai penanganan error koneksi pada saat mengakses database dengan PDO. Untuk menangani error yang dihasilkan, kamu bisa menggunakan blok try catch, seperti:</p>
<pre><code class="language-php">&#x3C;?php
    $user = 'dbuser';
    $password = 'dbpass';

    try {
        $dbh = new PDO('mysql:host=localhost;dbname=test', $user, $password);

        $stmt = $dbh->prepare("SELECT * FROM users LIMIT :skip :max");
        $stmt->bindParam(':skip', 0, PDO::PARAM_INT);
        $stmt->bindParam(':max', 50, PDO::PARAM_INT);

        $stmt->execute();
    } catch (PDOException $e) {
        echo "Error!: ".$e->getMessage().'&#x3C;br>';
        die;
    }
?>
</code></pre>
<p>Jika terjadi error koneksi apa saja, maka sebuah object PDOException akan di buat, karena itu pada bagian <code>catch()</code> kita memberitahu untuk menangkap object PDOException tersebut, sehingga errornya bisa ditangani didalam block catch. Lalu kita tampilkan error tersebut dengan sedikit di ubah formatnya didalam blok catch. Format error bebas kamu tentukan sesuka hati. Untuk lebih jelas mengenai penggunaan blok try catch untuk exeception handling, seperti diatas, kamu bisa googling saja, atau kamu bisa memperlajarinya di <a href="https://jagongoding.com/web/php/menengah/penanganan-exception/">Jago Ngoding: Penanganan Exception</a>.</p>
<p>Oke, terima kasih buat kamu yang sudah membaca, semoga bermanfaat. Jika ada yang ingin ditanyakan atau ada saran silahkan kirim email ke <a href="mailto:fikkri.reza@gmail.com">fikkri.reza@gmail.com</a>. Jangan lupa follow Linkedin <a href="https://www.linkedin.com/in/reza-sariful-fikri">in/reza-sariful-fikri</a> ku atau bisa juga di Facebook <a href="https://web.facebook.com/reza.sariful.fikri">reza.sariful.fikri</a> untuk mendapatkan tulisan terbaru.</p>
<p>Kamu bisa juga berdonasi melalui <a href="https://saweria.co/rezafikkri">Saweria</a> untuk mendukung saya.</p>
<h3>Referensi:</h3>
<p><a href="https://www.php.net/manual/en/book.pdo.php">PHP: PDO - Manual</a></p></div></article></main></div><div class="max-w-5xl mx-auto px-4 sm:px-8"><footer class="mt-20 md:mt-32 pt-4 pb-5 text-sm text-gray-500"><div class="flex flex-col sm:flex-row justify-between mb-4 sm:mb-3 sm:mb-4 gap-3"><ul class="flex flex-col sm:flex-row gap-3 sm:gap-4"><li><a href="https://github.com/rezafikkri">Github</a></li><li><a href="https://www.linkedin.com/in/reza-sariful-fikri-9356ab16a/">Linkedin</a></li><li><a href="https://twitter.com/fikkrireza">Twitter</a></li><li><a href="https://web.facebook.com/reza.sariful.fikri">Facebook</a></li></ul><ul class="flex flex-col sm:flex-row gap-3 sm:gap-4"><li><a href="/blogs">Blog</a></li><li><a href="/projects">Projek</a></li></ul></div><div class="flex justify-between flex-col sm:flex-row gap-2 sm:gap-5"><p class="basis-2/4">Dibuat dengan Next.js dan Tailwind CSS</p><p class="basis-2/4 sm:text-end">Â©2024 Reza Sariful Fikri ðŸ‡®ðŸ‡©ðŸ‡µðŸ‡¸</p></div></footer></div><script src="/_next/static/chunks/webpack-a691a26e7e62a609.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/045832894acda0e9-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/120a5a1920781bd0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/2744aa005c8cf586-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/46b92c15a48f3318-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/media/4ecf9da4147c3090-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/media/6ebb97b5c9fa4e03-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n7:HL[\"/_next/static/media/7c7db451c1a82f61-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n8:HL[\"/_next/static/media/7f5a4bbe7ec7be95-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n9:HL[\"/_next/static/media/c714540e49ad5111-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\na:HL[\"/_next/static/media/da897b99eb1fe4a1-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\nb:HL[\"/_next/static/media/f5852452a44b5033-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\nc:HL[\"/_next/static/css/ccac54bc4acd500a.css\",\"style\"]\nd:HL[\"/_next/static/css/796ad535a0728bbf.css\",\"style\"]\ne:HL[\"/_next/static/css/f16eaa9e44b97d3f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"f:I[5751,[],\"\"]\n11:I[231,[\"231\",\"static/chunks/231-553e389129e81e12.js\",\"280\",\"static/chunks/280-50bc6b1ed599f2b7.js\",\"688\",\"static/chunks/app/blogs/%5Bslug%5D/page-19970ca1740dc46e.js\"],\"\"]\n12:I[2711,[\"231\",\"static/chunks/231-553e389129e81e12.js\",\"280\",\"static/chunks/280-50bc6b1ed599f2b7.js\",\"688\",\"static/chunks/app/blogs/%5Bslug%5D/page-19970ca1740dc46e.js\"],\"default\"]\n14:I[9275,[],\"\"]\n16:I[1343,[],\"\"]\n17:I[4269,[\"231\",\"static/chunks/231-553e389129e81e12.js\",\"185\",\"static/chunks/app/layout-77bc29ebb9266607.js\"],\"default\"]\n19:I[6130,[],\"\"]\n13:T3fdc,"])</script><script>self.__next_f.push([1,"\u003cp\u003eBismillah, hari ini kita akan mempelajari PDO (PHP Data Objects).\u003c/p\u003e\n\u003cp\u003eTetapi, seperti biasanya sebelum lanjut, yang perlu dipersiapkan adalah, kamu harus memahami beberapa perintah dasar sql, seperti Insert, Update, dll, pada database MariaDB. Jika belum kamu bisa belajar di channel Indonesia Belajar pada playlist \u003ca href=\"https://youtube.com/playlist?list=PL2O3HdJI4voGs6CiEUPXwt1fhLLqu30E_\"\u003eTutorial Belajar Database MySQL | MariaDB\u003c/a\u003e. Mengapa database MariaDB? karena pada tutorial ini kita akan menggunakan database MariaDB. Serta sangat di sarankan juga kamu untuk belajar dasar-dasar OOP (Object Oriented Programming) dengan bahasa pemrograman PHP. kamu bisa mempelajarinya di channel Web Programming Unpas pada playlist  \u003ca href=\"https://youtube.com/playlist?list=PLFIM0718LjIWvxxll-6wLXrC_16h_Bl_p\"\u003eOOP DASAR pada PHP\u003c/a\u003e.\u003c/p\u003e\n\u003ch2\u003eApa Itu PDO?\u003c/h2\u003e\n\u003cp\u003ePDO atau PHP Data Objects merupakan suatu ekstensi yang mendefinisikan antarmuka yang ringan dan konsisten untuk mengakses database di PHP. Namun kamu tidak bisa melakukan fungsi database apapun (insert, update, dsb) jika hanya menggunakan ekstensi PDO sendiri, kamu membutuhkan yang namanya PDO Driver untuk mengakses database. Setiap database punya PDO Driver tersendiri, misalnya untuk database MariaDB menggunakan driver PDO_MYSQL.\u003c/p\u003e\n\u003cp\u003ePDO menyediakan sebuah \u003cem\u003edata-access abstraction layer\u003c/em\u003e, yang berarti bahwa, dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan \u003cem\u003efunction\u003c/em\u003e atau \u003cem\u003emethod\u003c/em\u003e yang sama untuk melakukan query dan fetch data.\u003c/p\u003e\n\u003cp\u003eSebelum menggunakan PDO, pastikan bahwa ekstensi PDO sudah aktif serta mendukung untuk koneksi ke database MariaDB, caranya buat satu file php (namanya bebas), lalu masukkan code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?= phpinfo(); ?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003edan buka lewat browser. Setelah itu kamu bisa gunakan fitur pencarian yang ada di browser dengan menekan \u003ccode\u003ectrl+f\u003c/code\u003e, cari dengan kata kunci \u003cstrong\u003epdo\u003c/strong\u003e, pastikan kamu menemukan seperti pada gambar dibawah:\n\u003cimg src=\"https://res.cloudinary.com/rezafikkri/image/upload/q_auto/PHP-PDO-extension.png\" alt=\"cek ekstensi PDO\" width=\"974\" height=\"585\" loading=\"lazy\" decoding=\"async\"\u003e\u003c!--rehype:width=974\u0026height=585\u0026loading=lazy\u0026decoding=async--\u003e\nPada gambar diatas, dibagian table PDO, pada kolom \u003cem\u003eenabled\u003c/em\u003e, pastikan tertera \u003ccode\u003emysql\u003c/code\u003e yang berarti bahwa PDO mendukung untuk koneksi ke database MariaDB. Jika belum menemukan, kemungkinan ekstensi PDO nya belum aktif, atau mungkin juga kamu belum menginstall driver PDO_MYSQL.\u003c/p\u003e\n\u003cp\u003eJika kamu menggunakan paket server seperti XAMPP, kamu tidak perlu menginstall driver PDO_MYSQL secara manual, kamu hanya perlu enable ekstensi \u003ccode\u003ephp_pdo\u003c/code\u003e dan \u003ccode\u003ephp_pdo_mysql\u003c/code\u003e saja, dengan cara, cari baris code \u003ccode\u003e;extension=php_pdo.dll\u003c/code\u003e dan \u003ccode\u003e;extension=php_pdo_mysql.dll\u003c/code\u003e didalam file php.ini, lalu hapus \u003ccode\u003e;\u003c/code\u003e pada awal dari kedua baris code tersebut, jangan lupa untuk restart server php dan databasenya. Letak dari file php.ini di XAMPP biasanya ada di \u003ccode\u003e/xampp/php/php.ini\u003c/code\u003e. Sedangkan untuk kamu yang menggunakan paket server Laragon, caranya sangat mudah, buka Laragon Â» klik \u003cstrong\u003eMenu\u003c/strong\u003e Â» pilih \u003cstrong\u003ePHP\u003c/strong\u003e Â» pilih \u003cstrong\u003eExtentions\u003c/strong\u003e Â» dan klik pada ekstensi yang ingin diaktifkan yaitu \u003ccode\u003epdo_mysql\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eBagi kamu yang menggunakan os linux, terutama distro Debian dan turunannya, seperti Ubuntu, Linux Mint, dsb, serta tidak menggunakan paket server apapun seperti XAMPP atau Laragon, biasanya kamu harus menginstall secara manual driver PDO_MYSQL untuk MariaDB. Ikuti langkah berikut untuk menginstall drivernya:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eUpdate daftar package: \u003ccode\u003esudo apt update\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eInstall package \u003ccode\u003ephp8.2-mysql\u003c/code\u003e: \u003ccode\u003esudo apt install php8.2-mysql\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eUntuk versi php silahkan disesuaikan dengan versi php yang kamu gunakan, misalnya kamu menggunakan php7.4 maka \u003ccode\u003e... php7.4-mysql\u003c/code\u003e. Dengan menginstall package \u003ccode\u003ephp8.2-mysql\u003c/code\u003e maka akan menginstall driver PDO_MYSQL.\u003c/p\u003e\n\u003ch2\u003eMembuat Koneksi Ke Database MySQL\u003c/h2\u003e\n\u003cp\u003eBerikut contoh code untuk koneksi ke database dengan PDO:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $user = 'dbuser';\n    $password = 'dbpass';\n    $dbh = new PDO('mysql:host=localhost;dbname=test', $user, $password);\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUntuk koneksi ke database dengan PDO kamu perlu membuat instansiasi dari class PDO, serta memasukkan beberapa argumen mengenai database yang digunakan, yang dikenal dengan DSN dan username, password (opsional). Berikut penjelasan rinci dari argumen tersebut:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eData Source Name (DSN)\nBagian yang disebut DSN adalah \u003ccode\u003emysql:host=localhost;dbname=test\u003c/code\u003e. DSN terbagi menjadi beberapa bagian, yang umum dipakai adalah DSN prefix, host, database name. DSN prefix pada contoh diatas adalah \u003ccode\u003emysql:\u003c/code\u003e, host merupakan nama host tempat basis data berada, yang mana pada contoh yaitu \u003ccode\u003elocalhost\u003c/code\u003e, database name adalah nama database kamu, pada contoh yaitu \u003ccode\u003etest\u003c/code\u003e. Penjelasan lebih lanjut bisa baca di \u003ca href=\"https://www.php.net/manual/en/ref.pdo-mysql.connection.php\"\u003eManual PDO Mysql Connection\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eUsername\nUsername merupakan username untuk koneksi ke database. Pada contoh, usernamenya yaitu \u003ccode\u003edbuser\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003ePassword\nPassword merupakan password untuk koneksi ke database. pada contoh, passwordnya yaitu \u003ccode\u003edbpass\u003c/code\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003ePrepared Statement\u003c/h2\u003e\n\u003cp\u003ePrepared statement dapat dianggap sebagai template terkompilasi untuk SQL yang ingin dijalankan oleh aplikasi, yang dapat dikustomasisasi menggunakan parameter variabel. Begitulah pengertian dari website php.net. Bingung? oke, supaya lebih paham lihat contoh berikut!\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-sql\"\u003eINSERT INTO users(username, password) VALUES(:username, :password)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDan contoh detailnya adalah:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $username = 'rezauser';\n    $password = 'rezapass';\n\n    $stmt = $dbh-\u003eprepare(\"INSERT INTO users(username, password) VALUES(:username, :password)\");\n    $stmt-\u003ebindParam(':username', $username);\n    $stmt-\u003ebindParam(':password', $password);\n\n    $stmt-\u003eexecute();\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePada kode diatas kita menggunakan prepared statement dengan \u003cem\u003enamed placeholders\u003c/em\u003e, yaitu dengan penggunaan placeholders \u003ccode\u003e:username\u003c/code\u003e dan \u003ccode\u003e:password\u003c/code\u003e pada fungsi \u003ccode\u003eprepare()\u003c/code\u003e. Fungsi \u003ccode\u003eprepare()\u003c/code\u003e berfungsi untuk menyiapkan sebuah SQL statement untuk di jalankan dan menghasilkan sebuah statement object.\u003c/p\u003e\n\u003cp\u003eDisana juga ada fungsi \u003ccode\u003ebindParam()\u003c/code\u003e, yang berfungsi untuk mengikat PHP variabel ke pada placeholders yang sesuai.\nArgumen pertama yang dimasukkan pada fungsi \u003ccode\u003ebindParam()\u003c/code\u003e, adalah \u003cem\u003eparameter identifier\u003c/em\u003e, yang mana itu berisi nama placeholders yang digunakan pada fungsi \u003ccode\u003eprepare()\u003c/code\u003e. Argumen keduanya adalah nama variabel.\u003c/p\u003e\n\u003cp\u003eDan terakhir adalah fungsi \u003ccode\u003eexecute()\u003c/code\u003e berfungsi untuk menjalankan prepared statement. Nantinya placeholders akan diganti dengan value dari variabel \u003ccode\u003e$username\u003c/code\u003e dan \u003ccode\u003e$password\u003c/code\u003e. Salah satu keuntungan menggunakan prepared statement ini adalah akan mencegah terjadinya serangan berbahaya seperti Injeksi SQL atau SQl Injection.\u003c/p\u003e\n\u003cp\u003eSelain dengan \u003cem\u003enamed placeholders\u003c/em\u003e, kamu juga bisa menggunakan \u003cem\u003epositional placeholders\u003c/em\u003e atau bisa juga disebut \u003cem\u003equestion mark placeholders\u003c/em\u003e, seperti:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $username = 'rezauser';\n    $password = 'rezapass';\n\n    $stmt = $dbh-\u003eprepare(\"INSERT INTO users(username, password) VALUES(?, ?)\");\n    $stmt-\u003ebindParam(1, $username);\n    $stmt-\u003ebindParam(2, $password);\n\n    $stmt-\u003eexecute();\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePerbedaanya dengan \u003cem\u003enamed placeholders\u003c/em\u003e adalah pada \u003cem\u003epositional placeholders\u003c/em\u003e kita menggunakan tanda tanya (?) dan pada fungsi \u003ccode\u003ebindParam()\u003c/code\u003e, di argumen pertama kita menggunakan nomor index yang dimulai dari 1.\u003c/p\u003e\n\u003cp\u003eJika tipe data dari value yang ingin kita masukkan kedalam database itu bertipe string semua, kita bisa tidak menggunakan fungsi \u003ccode\u003ebindParam()\u003c/code\u003e, yaitu dengan cara memasukkan langsung variabel sebagai array pada saat memanggil fungsi \u003ccode\u003eexecute()\u003c/code\u003e, jadi seperti:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $username = 'rezauser';\n    $password = 'rezapass';\n\n    $stmt = $dbh-\u003eprepare(\"INSERT INTO users(username, password) VALUES(:username, :password)\");\n    //$stmt-\u003ebindParam(':username', $username);\n    //$stmt-\u003ebindParam(':password', $password);\n\n    $stmt-\u003eexecute([':username' =\u003e $username, ':password' =\u003e $password]);\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBagaimana dengan \u003cem\u003epositional placeholders\u003c/em\u003e? jika menggunakan \u003cem\u003enamed placeholders\u003c/em\u003e maka harus menggunakan array asosiatif, sedangkan jika menggunakan \u003cem\u003epositional placeholders\u003c/em\u003e maka menggunakan \u003cem\u003eindexed array\u003c/em\u003e, seperti:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $username = 'rezauser';\n    $password = 'rezapass';\n\n    $stmt = $dbh-\u003eprepare(\"INSERT INTO users(username, password) VALUES(?, ?)\");\n    $stmt-\u003eexecute([$username, $password]);\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003ePerbedaan \u003cem\u003eindexed array\u003c/em\u003e dan array asosiatif adalah tipe \u003cem\u003ekey\u003c/em\u003e yang digunakan, \u003cem\u003eindexed array\u003c/em\u003e menggunakan \u003cem\u003ekey\u003c/em\u003e bertipe integer, sedangkan array asosiatif menggunakan \u003cem\u003ekey\u003c/em\u003e bertipe string\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eKapan kita harus menggunakan fungsi \u003ccode\u003ebindParam()\u003c/code\u003e? kita butuh menggunakan fungsi \u003ccode\u003ebindparam()\u003c/code\u003e ketika value yang harus dimasukkan itu bukan bertipe string, contohnya ketika kita butuh perintah SQl yang menggunakan perintah \u003ccode\u003elimit\u003c/code\u003e, mengapa? karena data yang dimasukkan harus bertipe integer, tidak bisa string, maka kita perlu menggunakan fungsi \u003ccode\u003ebindParam()\u003c/code\u003e. Pada fungsi \u003ccode\u003ebindParam()\u003c/code\u003e selain dua argument yang sebelumnya, yaitu, pertama string dari \u003cem\u003enamed placeholders\u003c/em\u003e atau nomor index dari \u003cem\u003epositional placeholders\u003c/em\u003e, yang kedua adalah nama variabel-nya, dan yang ke tiga yaitu eksplisit tipe data untuk value yang akan kita masukkan, caranya adalah dengan menggunakan \u003ccode\u003ePDO::PARAM_*constants\u003c/code\u003e, seperti:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $skip = 0;\n    $max = 50;\n\n    $stmt = $dbh-\u003eprepare(\"SELECT * FROM users LIMIT :skip, :max\");\n    $stmt-\u003ebindParam(':skip', $skip, PDO::PARAM_INT);\n    $stmt-\u003ebindParam(':max', $max, PDO::PARAM_INT);\n\n    $stmt-\u003eexecute();\n\n    $users = $stmt-\u003efetchAll(PDO::FETCH_ASSOC);\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ePada code diatas, fungsi \u003ccode\u003efetchAll()\u003c/code\u003e berfungsi untuk mengambil semua data hasil dari perintah \u003ccode\u003eSELECT\u003c/code\u003e dan \u003ccode\u003ePDO::FETCH_ASSOC\u003c/code\u003e digunakan agar data tersebut berbentuk array asosiatif. Untuk daftar rinci dari PDO Constants kamu bisa lihat di \u003ca href=\"https://www.php.net/manual/en/pdo.constants.php\"\u003eManual PDO Constants\u003c/a\u003e. Selain fungsi \u003ccode\u003efetchAll()\u003c/code\u003e juga ada fungsi \u003ccode\u003efetch()\u003c/code\u003e, yang berfungsi untuk mengambil satu data dari hasil perintah \u003ccode\u003eSELECT\u003c/code\u003e. Ketika kita memanggil fungsi \u003ccode\u003efetch()\u003c/code\u003e untuk kedua kalinya, maka akan mengambil satu data berikutnya dan begitu seterusnya. Lebih rinci mengenai fungsi \u003ccode\u003efetch()\u003c/code\u003e kamu bisa baca di \u003ca href=\"https://www.php.net/manual/en/pdostatement.fetch.php\"\u003ePDO fetch\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eSelain menggunakan fungsi \u003ccode\u003eprepare()\u003c/code\u003e, kamu juga bisa menggunakan fungsi \u003ccode\u003equery()\u003c/code\u003e atau \u003ccode\u003eexec()\u003c/code\u003e, seperti:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $sql = 'SELECT * FROM users';\n    foreach($dbh-\u003equery($sql) as $row) {\n        echo $row['username'].'\u0026#x3C;br\u003e';\n    }\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $count = $dbh-\u003eexec('DELETE FROM users');\n    echo $count . 'baris telah dihapus';\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003ePraktik terbaik dalam penggunaan \u003ccode\u003eprepare()\u003c/code\u003e adalah ketika perintah SQL tersebut membutuhkan data dari luar, seperti dari input user. Biasanya kita membutuhkan data dari luar ketika kita ingin memasukkan data ke database, ataupun ketika ingin menghapus suatu data berdasarkan id tertentu dan lain-lain.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSedangkan \u003ccode\u003equery()\u003c/code\u003e digunakan ketika perintah SQL tersebut tidak membutuhkan data dari luar, misalnya perintah untuk menampilkan semua user seperti di atas. Adapun \u003ccode\u003eexec()\u003c/code\u003e hampir sama seperti \u003ccode\u003equery()\u003c/code\u003e, tetapi fungsi \u003ccode\u003eexec()\u003c/code\u003e tidak mengembalikan data hasil dari perintah \u003ccode\u003eSELECT\u003c/code\u003e, tetapi mengembalikan jumlah baris yang terkena dampak dari perintah SQL, sehingga lebih cocok untuk perintah seperti \u003ccode\u003eDELETE\u003c/code\u003e, \u003ccode\u003eUPDATE\u003c/code\u003e dan \u003ccode\u003eCREATE\u003c/code\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eSebagai tambahan, berikut adalah contoh code CRUD (Create Read Update Delete) dengan PDO dan Prepared Statement:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreate : memasukkan data ke dalam database\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $username = 'rezauser';\n    $password = 'rezapass';\n\n    $stmt = $dbh-\u003eprepare(\"INSERT INTO users(username, password) VALUES(:username, :password)\");\n    $stmt-\u003eexecute([':username' =\u003e $username, ':password' =\u003e $password]);\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eRead : mengambil data dari database\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $stmt = $dbh-\u003eprepare(\"SELECT * FROM users WHERE username != :username\");\n    $stmt-\u003eexecute([':username' =\u003e 'reza']);\n\n    foreach($stmt as $u) {\n        echo $u['username'].'\u0026#x3C;br\u003e';\n    }\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eUpdate : mengubah data di database\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $username = 'rezauser';\n    $password = 'rezapass';\n    $id = '123';\n\n    $stmt = $dbh-\u003eprepare(\"UPDATE users SET username = :username, password = :password WHERE id = :id\");\n    $stmt-\u003eexecute([':username' =\u003e $username, ':password' =\u003e $password, ':id' =\u003e $id]);\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eDelete : menghapus data dari database\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $id = '123';\n    $stmt = $dbh-\u003eprepare(\"DELETE FROM users WHERE id = :id\");\n    $stmt-\u003eexecute([':id' =\u003e $id]);\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003ePenanganan Error Koneksi\u003c/h2\u003e\n\u003cp\u003ePada bagian terakhir ini kita akan sedikit membahas mengenai penanganan error koneksi pada saat mengakses database dengan PDO. Untuk menangani error yang dihasilkan, kamu bisa menggunakan blok try catch, seperti:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026#x3C;?php\n    $user = 'dbuser';\n    $password = 'dbpass';\n\n    try {\n        $dbh = new PDO('mysql:host=localhost;dbname=test', $user, $password);\n\n        $stmt = $dbh-\u003eprepare(\"SELECT * FROM users LIMIT :skip :max\");\n        $stmt-\u003ebindParam(':skip', 0, PDO::PARAM_INT);\n        $stmt-\u003ebindParam(':max', 50, PDO::PARAM_INT);\n\n        $stmt-\u003eexecute();\n    } catch (PDOException $e) {\n        echo \"Error!: \".$e-\u003egetMessage().'\u0026#x3C;br\u003e';\n        die;\n    }\n?\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eJika terjadi error koneksi apa saja, maka sebuah object PDOException akan di buat, karena itu pada bagian \u003ccode\u003ecatch()\u003c/code\u003e kita memberitahu untuk menangkap object PDOException tersebut, sehingga errornya bisa ditangani didalam block catch. Lalu kita tampilkan error tersebut dengan sedikit di ubah formatnya didalam blok catch. Format error bebas kamu tentukan sesuka hati. Untuk lebih jelas mengenai penggunaan blok try catch untuk exeception handling, seperti diatas, kamu bisa googling saja, atau kamu bisa memperlajarinya di \u003ca href=\"https://jagongoding.com/web/php/menengah/penanganan-exception/\"\u003eJago Ngoding: Penanganan Exception\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eOke, terima kasih buat kamu yang sudah membaca, semoga bermanfaat. Jika ada yang ingin ditanyakan atau ada saran silahkan kirim email ke \u003ca href=\"mailto:fikkri.reza@gmail.com\"\u003efikkri.reza@gmail.com\u003c/a\u003e. Jangan lupa follow Linkedin \u003ca href=\"https://www.linkedin.com/in/reza-sariful-fikri\"\u003ein/reza-sariful-fikri\u003c/a\u003e ku atau bisa juga di Facebook \u003ca href=\"https://web.facebook.com/reza.sariful.fikri\"\u003ereza.sariful.fikri\u003c/a\u003e untuk mendapatkan tulisan terbaru.\u003c/p\u003e\n\u003cp\u003eKamu bisa juga berdonasi melalui \u003ca href=\"https://saweria.co/rezafikkri\"\u003eSaweria\u003c/a\u003e untuk mendukung saya.\u003c/p\u003e\n\u003ch3\u003eReferensi:\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://www.php.net/manual/en/book.pdo.php\"\u003ePHP: PDO - Manual\u003c/a\u003e\u003c/p\u003e"])</script><script>self.__next_f.push([1,"15:[\"slug\",\"pdo-php-data-objects-ekstensi-php-untuk-mengakses-database\",\"d\"]\n1a:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ccac54bc4acd500a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/796ad535a0728bbf.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$Lf\",null,{\"buildId\":\"bevVDbdt2NTjrPY4nj9mY\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blogs/pdo-php-data-objects-ekstensi-php-untuk-mengakses-database\",\"initialTree\":[\"\",{\"children\":[\"blogs\",{\"children\":[[\"slug\",\"pdo-php-data-objects-ekstensi-php-untuk-mengakses-database\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"pdo-php-data-objects-ekstensi-php-untuk-mengakses-database\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blogs\",{\"children\":[[\"slug\",\"pdo-php-data-objects-ekstensi-php-untuk-mengakses-database\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L10\",[\"$\",\"article\",null,{\"className\":\"mt-24\",\"children\":[[\"$\",\"time\",null,{\"className\":\"text-gray-600 inline-block\",\"children\":\"07 Agustus 2024\"}],[\"$\",\"h1\",null,{\"className\":\"text-5xl font-bold mt-2 text-gray-900\",\"children\":\"PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-1 mt-6\",\"children\":[[\"$\",\"$L11\",\"cdc80207-597b-4fb7-b572-53b68c9f1a78\",{\"href\":\"/blogs/topic/PHP\",\"className\":\"no-underline text-xs bg-white border border-gray-500 hover:border-ajwa-blue px-2 py-1 rounded-lg\",\"children\":\"PHP\"}],[\"$\",\"$L11\",\"597f5651-dfe2-4aad-81aa-7c8b090ff468\",{\"href\":\"/blogs/topic/Database\",\"className\":\"no-underline text-xs bg-white border border-gray-500 hover:border-ajwa-blue px-2 py-1 rounded-lg\",\"children\":\"Database\"}]]}],[\"$\",\"$L12\",null,{\"post\":{\"contentHTML\":\"$13\",\"id\":\"e2b7af83-c3b4-4e3f-95fb-013cd05d4614\",\"title\":\"PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database\",\"date\":\"2024-08-07T05:49:27.770Z\",\"topics\":[\"cdc80207-597b-4fb7-b572-53b68c9f1a78\",\"597f5651-dfe2-4aad-81aa-7c8b090ff468\"],\"slug\":\"pdo-php-data-objects-ekstensi-php-untuk-mengakses-database\",\"ogImage\":\"https://res.cloudinary.com/rezafikkri/image/upload/q_auto/php-pdo.png\",\"excerpt\":\"dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan function atau method yang sama untuk melakukan query dan fetch data\\n\"}}],null]}]],null],null]},[\"$\",\"$L14\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blogs\",\"children\",\"$15\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L16\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f16eaa9e44b97d3f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$L14\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blogs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L16\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"id\",\"className\":\"__variable_3c16b5 __variable_df7ce8\",\"children\":[\"$\",\"body\",null,{\"className\":\"h-screen bg-gray-50 font-roboto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"sm:text-center py-3 px-4 bg-gray-100 text-gray-700\",\"children\":[[\"$\",\"span\",null,{\"className\":\"me-1\",\"children\":\"Free Palestine ðŸ‡µðŸ‡¸\"}],[\"$\",\"$L11\",null,{\"href\":\"https://inh.or.id/\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"className\":\"group no-underline hover:text-ajwa-blue inline-block\",\"children\":[[\"$\",\"span\",null,{\"className\":\"me-1\",\"children\":\"Kirim Hadiah Terbaik Melalui INH\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"13\",\"height\":\"13\",\"className\":\"inline-block align-baseline stroke-gray-700 group-hover:stroke-ajwa-blue\",\"viewBox\":\"0 0 16 16\",\"children\":[[\"$\",\"path\",null,{\"fillRule\":\"evenodd\",\"d\":\"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z\"}],[\"$\",\"path\",null,{\"fillRule\":\"evenodd\",\"d\":\"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z\"}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"max-w-5xl mx-auto px-4 sm:px-8\",\"children\":[\"$\",\"header\",null,{\"className\":\"pt-6 flex flex-col items-start sm:flex-row sm:justify-between content-center sm:items-center\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"no-underline mb-2 sm:mb-0\",\"href\":\"/\",\"children\":[\"$\",\"img\",null,{\"src\":\"/Reza logo.svg\",\"width\":35,\"height\":35,\"alt\":\"Reza logo\",\"loading\":\"lazy\",\"decoding\":\"async\"}]}],[\"$\",\"$L17\",null,{}]]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto px-4 sm:px-8\",\"children\":[\"$\",\"main\",null,{\"children\":[\"$\",\"$L14\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L16\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-5xl mx-auto px-4 sm:px-8\",\"children\":[\"$\",\"footer\",null,{\"className\":\"mt-20 md:mt-32 pt-4 pb-5 text-sm text-gray-500\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-col sm:flex-row justify-between mb-4 sm:mb-3 sm:mb-4 gap-3\",\"children\":[[\"$\",\"ul\",null,{\"className\":\"flex flex-col sm:flex-row gap-3 sm:gap-4\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"https://github.com/rezafikkri\",\"children\":\"Github\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"https://www.linkedin.com/in/reza-sariful-fikri-9356ab16a/\",\"children\":\"Linkedin\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"https://twitter.com/fikkrireza\",\"children\":\"Twitter\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"https://web.facebook.com/reza.sariful.fikri\",\"children\":\"Facebook\"}]}]]}],[\"$\",\"ul\",null,{\"className\":\"flex flex-col sm:flex-row gap-3 sm:gap-4\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"/blogs\",\"children\":\"Blog\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$L11\",null,{\"href\":\"/projects\",\"children\":\"Projek\"}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex justify-between flex-col sm:flex-row gap-2 sm:gap-5\",\"children\":[[\"$\",\"p\",null,{\"className\":\"basis-2/4\",\"children\":\"Dibuat dengan Next.js dan Tailwind CSS\"}],[\"$\",\"p\",null,{\"className\":\"basis-2/4 sm:text-end\",\"children\":\"Â©2024 Reza Sariful Fikri ðŸ‡®ðŸ‡©ðŸ‡µðŸ‡¸\"}]]}]]}]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L18\"],\"globalErrorComponent\":\"$19\",\"missingSlots\":\"$W1a\"}]]\n"])</script><script>self.__next_f.push([1,"18:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database - Reza Sariful Fikri\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan function atau method yang sama untuk melakukan query dan fetch data\\n\"}],[\"$\",\"meta\",\"4\",{\"name\":\"google-site-verification\",\"content\":\"fLcDg3KFF-m2xDnm4TGsRylXksSQTGGfLq6FqSe8cUs\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:description\",\"content\":\"dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan function atau method yang sama untuk melakukan query dan fetch data\\n\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:url\",\"content\":\"https://rezafikkri.github.io/blogs/pdo-php-data-objects-ekstensi-php-untuk-mengakses-database\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image\",\"content\":\"https://res.cloudinary.com/rezafikkri/image/upload/q_auto/php-pdo.png\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:title\",\"content\":\"PDO (PHP Data Objects): Ekstensi PHP untuk mengakses database\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:description\",\"content\":\"dengan PDO, tanpa peduli database apa yang kamu gunakan, kamu akan menggunakan function atau method yang sama untuk melakukan query dan fetch data\\n\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:image\",\"content\":\"https://res.cloudinary.com/rezafikkri/image/upload/q_auto/php-pdo.png\"}],[\"$\",\"link\",\"14\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"15\",{\"name\":\"next-size-adjust\"}]]\n10:null\n"])</script></body></html>